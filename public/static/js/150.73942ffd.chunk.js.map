{"version":3,"file":"static/js/150.73942ffd.chunk.js","mappings":"gQAsFA,UA7EwB,WACtB,IAAMA,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,WAAWC,KAAKC,GAAjC,IACrBC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,UAAS,MAAjC,eAAOJ,EAAP,KAAaK,EAAb,KACA,GAAsCD,EAAAA,EAAAA,UAAS,CAAEE,SAAU,GAAIC,OAAQ,KAAvE,eAAOC,EAAP,KAAoBC,EAApB,KAEMC,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBF,GAAe,kBAAKD,GAAN,cAAoBG,EAAOC,KAAOD,EAAOE,QACxD,EAEKC,EAAQ,yCAAG,kHAEaC,EAAAA,EAAAA,QAAoBnB,GAFjC,OAEPoB,EAFO,OAGbX,EAAQW,GACRP,EAAe,CACbH,SAAUU,EAAYV,SACtBC,OAAQS,EAAYT,SANT,gDASbU,QAAQC,IAAR,MATa,yDAAH,qDAaRC,EAAQ,yCAAG,WAAOC,GAAP,mFACfA,EAAGC,iBADY,kBAGMN,EAAAA,EAAAA,OAAmBP,EAAaZ,GAHtC,OAGPI,EAHO,OAIbE,GAASoB,EAAAA,EAAAA,IAAStB,KAClBuB,EAAAA,EAAAA,IAAY,8BAA+B,WAL9B,gDAObN,QAAQC,IAAR,MAPa,yDAAH,sDAgBd,OALAM,EAAAA,EAAAA,YAAU,WACRV,GAED,GAAE,CAAClB,KAGF,iCACE,SAAC,IAAD,KACA,iBAAM6B,UAAU,yBAAhB,SACGzB,IACC,UAAC,EAAA0B,SAAD,YACE,kCAAU1B,EAAKM,SAAf,eACA,kBAAMa,SAAUA,EAAhB,WACE,UAAC,IAAD,CAAaQ,WAAW,EAAxB,WACE,SAAC,IAAD,CACEC,OAAO,SACPC,GAAG,iBACHjB,KAAK,WACLC,MAAOL,EAAYF,SACnBwB,KAAK,OACLC,MAAM,YACNC,SAAUtB,KAEZ,SAAC,IAAD,CACEkB,OAAO,SACPC,GAAG,iBACHjB,KAAK,SACLmB,MAAM,oBACNC,SAAUtB,EACVG,MAAOL,EAAYD,aAGvB,SAAC,IAAD,CAAQuB,KAAK,SAASG,KAAK,QAAQC,QAAQ,YAA3C,4BASb,C","sources":["views/user-profile-edit.jsx"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\n\r\nimport { Button, FormControl, TextField } from \"@mui/material\"\r\nimport { AppHeader } from \"../cmps/app-header\"\r\nimport { userService } from \"../services/user.service\"\r\nimport { showUserMsg } from \"../services/event-bus.service\"\r\nimport { onUpdate } from \"../store/action/user.action\"\r\n\r\nconst UserProfileEdit = () => {\r\n  const userId = useSelector((store) => store.userModule.user._id)\r\n  const dispatch = useDispatch()\r\n  const [user, setUser] = useState(null)\r\n  const [inputFields, setInputFields] = useState({ fullname: \"\", imgUrl: \"\" })\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInputFields({ ...inputFields, [target.name]: target.value })\r\n  }\r\n\r\n  const loadUser = async () => {\r\n    try {\r\n      const fetchedUser = await userService.getById(userId)\r\n      setUser(fetchedUser)\r\n      setInputFields({\r\n        fullname: fetchedUser.fullname,\r\n        imgUrl: fetchedUser.imgUrl,\r\n      })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (ev) => {\r\n    ev.preventDefault()\r\n    try {\r\n      const user = await userService.update(inputFields, userId)\r\n      dispatch(onUpdate(user))\r\n      showUserMsg(\"Profile edited succesfully!\", \"success\")\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadUser()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userId])\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <main className=\"profile-edit-container\">\r\n        {user && (\r\n          <Fragment>\r\n            <h2>Edit {user.fullname} profile</h2>\r\n            <form onSubmit={onSubmit}>\r\n              <FormControl fullWidth={true}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  id=\"outlined-basic\"\r\n                  name=\"fullname\"\r\n                  value={inputFields.fullname}\r\n                  type=\"text\"\r\n                  label=\"Full name\"\r\n                  onChange={handleChange}\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  id=\"outlined-basic\"\r\n                  name=\"imgUrl\"\r\n                  label=\"Profile image URL\"\r\n                  onChange={handleChange}\r\n                  value={inputFields.imgUrl}\r\n                />\r\n              </FormControl>\r\n              <Button type=\"submit\" size=\"small\" variant=\"contained\">\r\n                Edit\r\n              </Button>\r\n            </form>\r\n          </Fragment>\r\n        )}\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserProfileEdit"],"names":["userId","useSelector","store","userModule","user","_id","dispatch","useDispatch","useState","setUser","fullname","imgUrl","inputFields","setInputFields","handleChange","target","name","value","loadUser","userService","fetchedUser","console","log","onSubmit","ev","preventDefault","onUpdate","showUserMsg","useEffect","className","Fragment","fullWidth","margin","id","type","label","onChange","size","variant"],"sourceRoot":""}