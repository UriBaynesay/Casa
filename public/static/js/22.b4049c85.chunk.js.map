{"version":3,"file":"static/js/22.b4049c85.chunk.js","mappings":"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","sources":["assets/img/svgs/star.svg","cmps/stay-details-cmps/review-preview.jsx","cmps/stay-details-cmps/stay-reviews-list.jsx","cmps/stay-explore-cmps/stay-preview.jsx","cmps/stay-explore-cmps/stay-list.jsx","cmps/user-profile-cmps/profile-info.jsx","cmps/user-profile-cmps/hosting-info.jsx","views/user-profile.jsx"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-hidden\": \"true\",\n    role: \"presentation\",\n    focusable: \"false\",\n    style: {\n      display: \"block\",\n      height: 12,\n      width: 12,\n      fill: \"currentcolor\"\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.523d9e205c20990b0c1b62dddc8cee4b.svg\";\nexport { ForwardRef as ReactComponent };","import { Link } from \"react-router-dom\"\r\n\r\nexport const ReviewPreview = ({ review, isReviewsExpanded }) => {\r\n  return (\r\n    <article className=\"review-card\">\r\n      <Link to={`/user/profile/${review.by._id}`}>\r\n        <div className=\"writer-info-container\">\r\n          <div className=\"writer-img-container\">\r\n            <img src={review.by.imgUrl} alt=\"\" loading=\"lazy\"/>\r\n          </div>\r\n          <h4>{review.by.fullname}</h4>\r\n        </div>\r\n      </Link>\r\n      <p\r\n        style={\r\n          isReviewsExpanded ? { height: \"fit-content\" } : { height: \"72px\" }\r\n        }\r\n      >\r\n        {review.txt}\r\n      </p>\r\n    </article>\r\n  )\r\n}\r\n","import { ReviewPreview } from \"./review-preview\"\r\n\r\nexport const StayReviewsList = ({ isReviewsExpanded, reviews }) => {\r\n  return (\r\n    <div\r\n      className=\"review-cards-container\"\r\n      style={isReviewsExpanded ? { maxHeight: \"fit-content\" } : null}\r\n    >\r\n      {reviews.map((review) => (\r\n        <ReviewPreview\r\n          key={review.by._id}\r\n          isReviewsExpanded={isReviewsExpanded}\r\n          review={review}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import { Link } from \"react-router-dom\"\r\nimport React from \"react\"\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.css\"\r\nimport { Carousel } from \"react-responsive-carousel\"\r\nimport starIcon from \"../../assets/img/svgs/star.svg\"\r\nimport { stayService } from \"../../services/stay.service\"\r\n\r\nexport function StayPreview({ stay, isUserStayPage }) {\r\n  const calculatedStay = ((stay.reviewScores.rating / 100) * 5).toFixed(2)\r\n\r\n  return (\r\n    <Link to={`/stay/details/${stay._id}`} className=\"stay-preview-container\">\r\n      <div className=\"stay-img-container\">\r\n        <Carousel showThumbs={false} showStatus={false}>\r\n          <div>\r\n            <img src={stayService.getImageUrl(stay.imgUrls[0])} alt=\"\" loading=\"lazy\"/>\r\n          </div>\r\n          <div>\r\n            <img\r\n              src={stayService.getImageUrl(stay.imgUrls[1])}\r\n              alt=\"\"\r\n              loading=\"lazy\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <img src={stayService.getImageUrl(stay.imgUrls[2])} alt=\"\" loading=\"lazy\"/>\r\n          </div>\r\n        </Carousel>\r\n      </div>\r\n      <span className=\"top-summary\">\r\n        <span className=\"stay-address\">{stay.address.street} </span>\r\n        <span className=\"star-rating\">\r\n          {calculatedStay} <img width=\"14px\" src={starIcon} alt=\"\" />\r\n        </span>\r\n      </span>\r\n      <div className=\"stay-quick-data\">{stay.propertyType}</div>\r\n      <div className=\"stay-quick-data\">{stay.roomType}</div>\r\n      <div className=\"stay-price\">\r\n        <span className=\"stay-price\">${stay.price.toLocaleString()}</span>{\" \"}\r\n        <span className=\"stay-night\">night</span>\r\n      </div>\r\n      {isUserStayPage && (\r\n        <>\r\n          <Link\r\n            style={{ display: \"block\" }}\r\n            to={`/stay/edit/${stay._id}`}\r\n            onClick={(ev) => ev.stopPropagation()}\r\n          >\r\n            Edit\r\n          </Link>\r\n          <Link style={{ color: \"darkred\" }} to={`/stay/delete/${stay._id}`}>\r\n            Delete\r\n          </Link>\r\n        </>\r\n      )}\r\n    </Link>\r\n  )\r\n}\r\n","import { StayPreview } from \"./stay-preview.jsx\"\r\nimport React, { useEffect } from \"react\"\r\nexport function StayList({ stays, isUserStayPage }) {\r\n  useEffect(() => {\r\n    const elDots = document.querySelectorAll(\".dot\")\r\n    elDots.forEach((dot) => {\r\n      dot.addEventListener(\"click\", handleDotClick)\r\n    })\r\n\r\n    return () => {\r\n      elDots.forEach((dot) => {\r\n        dot.removeEventListener(\"click\", handleDotClick)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const handleDotClick = (ev) => {\r\n    ev.preventDefault()\r\n  }\r\n\r\n  return (\r\n    <div className=\"stay-list-container\">\r\n      {stays.map((stay) => (\r\n        <StayPreview\r\n          key={stay._id}\r\n          stay={stay}\r\n          isUserStayPage={isUserStayPage}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import { useSelector } from \"react-redux\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport const ProfileInfo = ({ user, stays }) => {\r\n  const loggedInUserId = useSelector((store) => store.userModule.user?._id)\r\n  const numOfReviews = stays.reduce((acc, stay) => {\r\n    return acc + stay.reviews.length\r\n  }, 0)\r\n\r\n  let avgRating = 0\r\n  if (stays.length !== 0) {\r\n    avgRating =\r\n      stays.reduce((acc, stay) => {\r\n        return acc + stay.reviewScores.rating\r\n      }, 0) / stays.length\r\n  }\r\n\r\n  return (\r\n    <section className=\"user-info-container\">\r\n      {user && (\r\n        <div className=\"profile-details-container\">\r\n          <div className=\"profile-image-container\">\r\n            <img src={user.imgUrl} alt=\"\" loading=\"lazy\"/>\r\n          </div>\r\n          <h3>{user.fullname}</h3>\r\n          {loggedInUserId === user._id && <Link to={`/user/profile/edit/${loggedInUserId}`}>Edit</Link>}\r\n        </div>\r\n      )}\r\n      <div className=\"profile-hosting-stats-container\">\r\n        <p>\r\n          <span>{numOfReviews}</span> Reviews\r\n        </p>\r\n        <p>\r\n          <span>{avgRating / 10}</span> Rating\r\n        </p>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { Fragment, useState } from \"react\"\r\nimport { StayReviewsList } from \"../stay-details-cmps/stay-reviews-list\"\r\nimport { StayList } from \"../stay-explore-cmps/stay-list\"\r\n\r\nexport const HostingInfo = ({ fullname, stays }) => {\r\n  const [isReviewsExpanded, setIsReviewsExpanded] = useState(false)\r\n  const reviews = stays.reduce((acc, stay) => {\r\n    return [...acc, ...stay.reviews]\r\n  }, [])\r\n\r\n  const expandReviewsList = () => {\r\n    setIsReviewsExpanded(!isReviewsExpanded)\r\n  }\r\n  return (\r\n    <section className=\"hosting-info-container\">\r\n      <div className=\"profile-reviews-list-container\">\r\n        <h3>{fullname} Reviews</h3>\r\n        {reviews.length ? (\r\n          <Fragment>\r\n            {\" \"}\r\n            <StayReviewsList\r\n              isReviewsExpanded={isReviewsExpanded}\r\n              reviews={reviews}\r\n            ></StayReviewsList>\r\n            <div className=\"reviews-btn\" onClick={expandReviewsList}>\r\n              <h3>{isReviewsExpanded ? \"Show less\" : \"Show more\"}</h3>\r\n            </div>\r\n          </Fragment>\r\n        ) : (\r\n          <p>No Reviews</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"profile-stays-list-container\">\r\n        <h3>{fullname} Stays</h3>\r\n        {stays.length ? <StayList stays={stays} isUserStayPage={false}></StayList> : <p>No Stays</p>}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { useEffect, useState } from \"react\"\r\nimport { AppHeader } from \"../cmps/app-header\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { userService } from \"../services/user.service\"\r\nimport { stayService } from \"../services/stay.service\"\r\nimport { ProfileInfo } from \"../cmps/user-profile-cmps/profile-info\"\r\nimport { HostingInfo } from \"../cmps/user-profile-cmps/hosting-info\"\r\n\r\nconst UserProfile = () => {\r\n  const params = useParams()\r\n  const [user, setUser] = useState()\r\n  const [stays, setStays] = useState([])\r\n\r\n  useEffect(() => {\r\n    loadUserAndStays()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [params.userId])\r\n\r\n  const loadUserAndStays = async () => {\r\n    try {\r\n      const fetchedUser = await userService.getById(params.userId)\r\n      const fetchedStays = await stayService.query({ hostId: fetchedUser._id })\r\n      setUser(fetchedUser)\r\n      setStays(fetchedStays)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-profile-page\">\r\n      <AppHeader />\r\n      <main className=\"user-profile main-layout\">\r\n        {user && (\r\n          <div className=\"user-profile-container\">\r\n            <ProfileInfo user={user} stays={stays}></ProfileInfo>\r\n            <HostingInfo stays={stays}></HostingInfo>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfile"],"names":["ReviewPreview","review","isReviewsExpanded","className","to","by","_id","src","imgUrl","alt","loading","fullname","style","height","txt","StayReviewsList","reviews","maxHeight","map","StayPreview","stay","isUserStayPage","calculatedStay","reviewScores","rating","toFixed","showThumbs","showStatus","stayService","imgUrls","address","street","width","starIcon","propertyType","roomType","price","toLocaleString","display","onClick","ev","stopPropagation","color","StayList","stays","useEffect","elDots","document","querySelectorAll","forEach","dot","addEventListener","handleDotClick","removeEventListener","preventDefault","ProfileInfo","user","loggedInUserId","useSelector","store","userModule","numOfReviews","reduce","acc","length","avgRating","HostingInfo","useState","setIsReviewsExpanded","Fragment","params","useParams","setUser","setStays","loadUserAndStays","userId","userService","fetchedUser","hostId","fetchedStays","console","log"],"sourceRoot":""}