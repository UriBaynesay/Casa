"use strict";(self.webpackChunkcasa=self.webpackChunkcasa||[]).push([[202],{9133:function(e,t,a){a.d(t,{b:function(){return d}});var n=a(4942),r=a(2982),i=a(1413),s=a(885),u=a(4554),o=a(3200),c=a(8551),l=a(2791),p=a(8312),m=a(184),d=function(e){var t=e.stay,a=e.onSubmit,d=e.isAdd,y=t.name,f=t.summary,v=t.address,b=t.interaction,h=t.amenities,Z=t.houseRules,x=t.propertyType,g=t.roomType,j=t.bedType,N=t.cancellationPolicy,L=t.capacity,P=t.bedrooms,k=t.beds,C=t.bathrooms,T=t.price,A=t.securityDeposit,S=(0,l.useState)(Array(5).fill(null)),w=(0,s.Z)(S,2),D=w[0],R=w[1],B=(0,l.useState)({name:{value:y,inputLabel:"Name"},summary:{value:f,inputLabel:"Summary"},interaction:{value:b,inputLabel:"Interaction"},houseRules:{value:Z,inputLabel:"House rules"},propertyType:{value:x,inputLabel:"Property type"},roomType:{value:g,inputLabel:"Room type"},bedType:{value:j,inputLabel:"Bed type"},cancellationPolicy:{value:N,inputLabel:"Cancellation policy"},capacity:{value:L,inputLabel:"Capacity"},bedrooms:{value:P,inputLabel:"Number of bedrooms"},beds:{value:k,inputLabel:"Number of beds"},bathrooms:{value:C,inputLabel:"Number of bathrooms"},price:{value:T,inputLabel:"$ Price"},securityDeposit:{value:A,inputLabel:"$ Security deposit"},amenities:{value:h,inputLabel:"Amenities"}}),q=(0,s.Z)(B,2),E=q[0],F=q[1],M=function(e){var t=e.target,a=t.name,s=t.value,u=t.id,o=t.checked,c=t.type;F("checkbox"===c?(0,i.Z)((0,i.Z)({},E),{},{amenities:{value:o?[].concat((0,r.Z)(E.amenities.value),[u]):E.amenities.value.filter((function(e){return e!==u})),inputLabel:"Amenities"}}):(0,i.Z)((0,i.Z)({},E),{},(0,n.Z)({},a,(0,i.Z)((0,i.Z)({},E[a]),{},{value:"number"===c?+s:s}))))};return(0,m.jsxs)("form",{className:"stay-edit-form-container",onSubmit:function(e){e.preventDefault(),console.log(e),a(e.target)},encType:"multipart/form-data",children:[(0,m.jsxs)("h2",{children:[d?"Add":"Edit"," your stay"]}),(0,m.jsxs)("div",{className:"form-inputs-container",children:[Object.keys(E).filter((function(e){return"amenities"!==e})).map((function(e){return(0,m.jsx)(u.Z,{children:(0,m.jsx)(o.Z,{label:E[e].inputLabel,margin:"dense",name:e,value:E[e].value,type:typeof E[e].value,placeholder:E[e].inputLabel,required:d,onChange:M})})})),Object.keys(v).map((function(e){return(0,m.jsx)(u.Z,{children:(0,m.jsx)(o.Z,{label:e,margin:"dense",name:e,defaultValue:v[e],type:"text",placeholder:e,required:d})})})),d&&(0,m.jsx)("div",{className:"images-input-container",children:D.map((function(e,t){return(0,m.jsx)("input",{name:"images",id:t,type:"file",accept:"image/*",required:!0,onChange:function(e){var t=e.target,a=t.id,n=t.value,i=(0,r.Z)(D);i[a]=n,R(i)}},t)}))}),(0,m.jsx)("div",{className:"amenities-container",children:p.N.getAmenities().map((function(e){return(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{onChange:M,name:"amenities",id:e,type:"checkbox",checked:E.amenities.value.includes(e)}),e]})}))})]}),(0,m.jsx)(c.Z,{className:"submit-button",variant:"outlined",type:"submit",children:d?"Add":"Update"})]})}},6202:function(e,t,a){a.r(t);var n=a(4165),r=a(5861),i=a(9434),s=a(2506),u=a(9133),o=a(1306),c=a(8312),l=a(2791),p=a(6871),m=a(184);t.default=function(){var e=(0,i.v9)((function(e){return e.userModule})).user,t=(0,p.s0)();(0,l.useEffect)((function(){e||((0,o.h4)("Please login to access this page"),t("/login"))}),[e]);var a=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData(t),e.prev=1,e.next=4,c.N.addStay(a);case 4:(0,o.CB)("Added stay succesfully"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),(0,o.oc)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.t,{}),(0,m.jsx)("main",{className:"stay-edit-container",children:(0,m.jsx)(u.b,{stay:{name:"",summary:"",interaction:"",address:{street:"",city:"",country:""},houseRules:"",propertyType:"",roomType:"",bedType:"",cancellationPolicy:"",capacity:0,bedrooms:0,beds:0,bathrooms:0,price:0,securityDeposit:0,amenities:[],imgUrls:[]},onSubmit:a,isAdd:!0})})]})}},4554:function(e,t,a){a.d(t,{Z:function(){return f}});var n=a(7462),r=a(3366),i=a(2791),s=a(8182),u=a(594),o=a(104),c=a(8519),l=a(3459),p=a(184),m=["className","component"];var d=a(5902),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,a=e.defaultClassName,d=void 0===a?"MuiBox-root":a,y=e.generateClassName,f=e.styleFunctionSx,v=void 0===f?o.Z:f,b=(0,u.ZP)("div")(v);return i.forwardRef((function(e,a){var i=(0,l.Z)(t),u=(0,c.Z)(e),o=u.className,f=u.component,v=void 0===f?"div":f,h=(0,r.Z)(u,m);return(0,p.jsx)(b,(0,n.Z)({as:v,ref:a,className:(0,s.Z)(o,y?y(d):d),theme:i},h))}))}({defaultTheme:(0,a(7107).Z)(),defaultClassName:"MuiBox-root",generateClassName:d.Z.generate}),f=y},8519:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(2982),r=a(7462),i=a(3366),s=a(2466),u=a(6001),o=["sx"],c=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(a){u.Gc[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]})),t};function l(e){var t,a=e.sx,u=(0,i.Z)(e,o),l=c(u),p=l.systemProps,m=l.otherProps;return t=Array.isArray(a)?[p].concat((0,n.Z)(a)):"function"===typeof a?function(){var e=a.apply(void 0,arguments);return(0,s.P)(e)?(0,r.Z)({},p,e):p}:(0,r.Z)({},p,a),(0,r.Z)({},m,{sx:t})}}}]);
//# sourceMappingURL=202.a9c8ee7b.chunk.js.map