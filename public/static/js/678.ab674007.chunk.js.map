{"version":3,"file":"static/js/678.ab674007.chunk.js","mappings":"yGAwCA,IAAe,IAA0B,wD,+HChClC,SAASA,EAAT,GAAgD,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,eAC5BC,GAAmBF,EAAKG,aAAaC,OAAS,IAAO,GAAGC,QAAQ,GAEtE,OACE,UAAC,KAAD,CAAMC,GAAE,wBAAmBN,EAAKO,KAAOC,UAAU,yBAAjD,WACE,gBAAKA,UAAU,qBAAf,UACE,UAAC,KAAD,CAAUC,YAAY,EAAOC,YAAY,EAAzC,WACE,0BACE,gBAAKC,IAAKC,EAAAA,EAAAA,YAAwBZ,EAAKa,QAAQ,IAAKC,IAAI,GAAGC,QAAQ,YAErE,0BACE,gBACEJ,IAAKC,EAAAA,EAAAA,YAAwBZ,EAAKa,QAAQ,IAC1CC,IAAI,GACJC,QAAQ,YAGZ,0BACE,gBAAKJ,IAAKC,EAAAA,EAAAA,YAAwBZ,EAAKa,QAAQ,IAAKC,IAAI,GAAGC,QAAQ,iBAIzE,kBAAMP,UAAU,cAAhB,WACE,kBAAMA,UAAU,eAAhB,UAAgCR,EAAKgB,QAAQC,OAA7C,QACA,kBAAMT,UAAU,cAAhB,UACGN,EADH,KACmB,gBAAKgB,MAAM,OAAOP,IAAKQ,EAAAA,EAAUL,IAAI,YAG1D,gBAAKN,UAAU,kBAAf,SAAkCR,EAAKoB,gBACvC,gBAAKZ,UAAU,kBAAf,SAAkCR,EAAKqB,YACvC,iBAAKb,UAAU,aAAf,WACE,kBAAMA,UAAU,aAAhB,cAA+BR,EAAKsB,MAAMC,oBAAyB,KACnE,iBAAMf,UAAU,aAAhB,sBAEDP,IACC,iCACE,SAAC,KAAD,CACEuB,MAAO,CAAEC,QAAS,SAClBnB,GAAE,qBAAgBN,EAAKO,KACvBmB,QAAS,SAACC,GAAD,OAAQA,EAAGC,iBAAX,EAHX,mBAOA,SAAC,KAAD,CAAMJ,MAAO,CAAEK,MAAO,WAAavB,GAAE,uBAAkBN,EAAKO,KAA5D,yBAOT,CCxDM,SAASuB,EAAT,GAA8C,IAA1BC,EAAyB,EAAzBA,MAAO9B,EAAkB,EAAlBA,gBAChC+B,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAASC,SAASC,iBAAiB,QAKzC,OAJAF,EAAOG,SAAQ,SAACC,GACdA,EAAIC,iBAAiB,QAASC,EAC/B,IAEM,WACLN,EAAOG,SAAQ,SAACC,GACdA,EAAIG,oBAAoB,QAASD,EAClC,GACF,CACF,GAAE,IAEH,IAAMA,EAAiB,SAACZ,GACtBA,EAAGc,gBACJ,EAED,OACE,gBAAKjC,UAAU,sBAAf,SACGuB,EAAMW,KAAI,SAAC1C,GAAD,OACT,SAACD,EAAD,CAEEC,KAAMA,EACNC,eAAgBA,GAFXD,EAAKO,IAFH,KAShB,C,0HCWD,UAnCkB,WAChB,OAA0BoC,EAAAA,EAAAA,UAAS,IAAnC,eAAOZ,EAAP,KAAca,EAAd,KACQC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAgBA,EAAWC,UAA3B,IAArBH,MAERb,EAAAA,EAAAA,YAAU,WACJa,IAASd,EAAMkB,QAAQC,GAE5B,GAAE,CAACL,IAEJ,IAAMK,EAAa,yCAAG,kHAEMtC,EAAAA,EAAAA,MAAkB,CAAEuC,OAAQN,EAAKtC,MAFvC,OAEZ6C,EAFY,OAGlBR,EAASQ,GAHS,gDAKlBC,QAAQC,MAAR,MALkB,yDAAH,qDASnB,OACE,iCACE,SAAC,IAAD,KACA,iBAAM9C,UAAU,2BAAhB,UACE,qBAASA,UAAU,uBAAnB,WACE,uCACCuB,EAAMkB,QACL,SAAC,IAAD,CAAUlB,MAAOA,EAAO9B,gBAAgB,KAExC,2CAMX,C","sources":["assets/img/svgs/star.svg","cmps/stay-explore-cmps/stay-preview.jsx","cmps/stay-explore-cmps/stay-list.jsx","views/user-stays.jsx"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-hidden\": \"true\",\n    role: \"presentation\",\n    focusable: \"false\",\n    style: {\n      display: \"block\",\n      height: 12,\n      width: 12,\n      fill: \"currentcolor\"\n    },\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.523d9e205c20990b0c1b62dddc8cee4b.svg\";\nexport { ForwardRef as ReactComponent };","import { Link } from \"react-router-dom\"\r\nimport React from \"react\"\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.css\"\r\nimport { Carousel } from \"react-responsive-carousel\"\r\nimport starIcon from \"../../assets/img/svgs/star.svg\"\r\nimport { stayService } from \"../../services/stay.service\"\r\n\r\nexport function StayPreview({ stay, isUserStayPage }) {\r\n  const calculatedStay = ((stay.reviewScores.rating / 100) * 5).toFixed(2)\r\n\r\n  return (\r\n    <Link to={`/stay/details/${stay._id}`} className=\"stay-preview-container\">\r\n      <div className=\"stay-img-container\">\r\n        <Carousel showThumbs={false} showStatus={false}>\r\n          <div>\r\n            <img src={stayService.getImageUrl(stay.imgUrls[0])} alt=\"\" loading=\"lazy\"/>\r\n          </div>\r\n          <div>\r\n            <img\r\n              src={stayService.getImageUrl(stay.imgUrls[1])}\r\n              alt=\"\"\r\n              loading=\"lazy\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <img src={stayService.getImageUrl(stay.imgUrls[2])} alt=\"\" loading=\"lazy\"/>\r\n          </div>\r\n        </Carousel>\r\n      </div>\r\n      <span className=\"top-summary\">\r\n        <span className=\"stay-address\">{stay.address.street} </span>\r\n        <span className=\"star-rating\">\r\n          {calculatedStay} <img width=\"14px\" src={starIcon} alt=\"\" />\r\n        </span>\r\n      </span>\r\n      <div className=\"stay-quick-data\">{stay.propertyType}</div>\r\n      <div className=\"stay-quick-data\">{stay.roomType}</div>\r\n      <div className=\"stay-price\">\r\n        <span className=\"stay-price\">${stay.price.toLocaleString()}</span>{\" \"}\r\n        <span className=\"stay-night\">night</span>\r\n      </div>\r\n      {isUserStayPage && (\r\n        <>\r\n          <Link\r\n            style={{ display: \"block\" }}\r\n            to={`/stay/edit/${stay._id}`}\r\n            onClick={(ev) => ev.stopPropagation()}\r\n          >\r\n            Edit\r\n          </Link>\r\n          <Link style={{ color: \"darkred\" }} to={`/stay/delete/${stay._id}`}>\r\n            Delete\r\n          </Link>\r\n        </>\r\n      )}\r\n    </Link>\r\n  )\r\n}\r\n","import { StayPreview } from \"./stay-preview.jsx\"\r\nimport React, { useEffect } from \"react\"\r\nexport function StayList({ stays, isUserStayPage }) {\r\n  useEffect(() => {\r\n    const elDots = document.querySelectorAll(\".dot\")\r\n    elDots.forEach((dot) => {\r\n      dot.addEventListener(\"click\", handleDotClick)\r\n    })\r\n\r\n    return () => {\r\n      elDots.forEach((dot) => {\r\n        dot.removeEventListener(\"click\", handleDotClick)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const handleDotClick = (ev) => {\r\n    ev.preventDefault()\r\n  }\r\n\r\n  return (\r\n    <div className=\"stay-list-container\">\r\n      {stays.map((stay) => (\r\n        <StayPreview\r\n          key={stay._id}\r\n          stay={stay}\r\n          isUserStayPage={isUserStayPage}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\n\r\nimport { AppHeader } from \"../cmps/app-header\"\r\nimport { stayService } from \"../services/stay.service\"\r\nimport { StayList } from \"../cmps/stay-explore-cmps/stay-list\"\r\n\r\nconst UserStays = () => {\r\n  const [stays, setStays] = useState([])\r\n  const { user } = useSelector((storeState) => storeState.userModule)\r\n\r\n  useEffect(() => {\r\n    if (user && !stays.length) loadUserStays()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user])\r\n\r\n  const loadUserStays = async () => {\r\n    try {\r\n      const userStays = await stayService.query({ hostId: user._id })\r\n      setStays(userStays)\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <main className=\"user-profile main-layout\">\r\n        <section className=\"user-stays-container\">\r\n          <h2>Your stays</h2>\r\n          {stays.length ? (\r\n            <StayList stays={stays} isUserStayPage={true}></StayList>\r\n          ) : (\r\n            <p>No stays</p>\r\n          )}\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserStays"],"names":["StayPreview","stay","isUserStayPage","calculatedStay","reviewScores","rating","toFixed","to","_id","className","showThumbs","showStatus","src","stayService","imgUrls","alt","loading","address","street","width","starIcon","propertyType","roomType","price","toLocaleString","style","display","onClick","ev","stopPropagation","color","StayList","stays","useEffect","elDots","document","querySelectorAll","forEach","dot","addEventListener","handleDotClick","removeEventListener","preventDefault","map","useState","setStays","user","useSelector","storeState","userModule","length","loadUserStays","hostId","userStays","console","error"],"sourceRoot":""}