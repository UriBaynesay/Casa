"use strict";(self.webpackChunkcasa=self.webpackChunkcasa||[]).push([[981],{9133:function(e,t,a){a.d(t,{b:function(){return d}});var n=a(4942),r=a(2982),i=a(1413),u=a(885),s=a(4554),o=a(3200),c=a(8551),l=a(2791),p=a(8312),m=a(184),d=function(e){var t=e.stay,a=e.onSubmit,d=e.isAdd,f=t.name,v=t.summary,y=t.address,b=t.interaction,h=t.amenities,Z=t.houseRules,x=t.propertyType,j=t.roomType,g=t.bedType,N=t.cancellationPolicy,L=t.capacity,k=t.bedrooms,C=t.beds,P=t.bathrooms,A=t.price,S=t.securityDeposit,T=(0,l.useState)(Array(5).fill(null)),w=(0,u.Z)(T,2),B=w[0],O=w[1],E=(0,l.useState)({name:{value:f,inputLabel:"Name"},summary:{value:v,inputLabel:"Summary"},interaction:{value:b,inputLabel:"Interaction"},houseRules:{value:Z,inputLabel:"House rules"},propertyType:{value:x,inputLabel:"Property type"},roomType:{value:j,inputLabel:"Room type"},bedType:{value:g,inputLabel:"Bed type"},cancellationPolicy:{value:N,inputLabel:"Cancellation policy"},capacity:{value:L,inputLabel:"Capacity"},bedrooms:{value:k,inputLabel:"Number of bedrooms"},beds:{value:C,inputLabel:"Number of beds"},bathrooms:{value:P,inputLabel:"Number of bathrooms"},price:{value:A,inputLabel:"$ Price"},securityDeposit:{value:S,inputLabel:"$ Security deposit"},amenities:{value:h,inputLabel:"Amenities"}}),R=(0,u.Z)(E,2),q=R[0],D=R[1],I=function(e){var t=e.target,a=t.name,u=t.value,s=t.id,o=t.checked,c=t.type;D("checkbox"===c?(0,i.Z)((0,i.Z)({},q),{},{amenities:{value:o?[].concat((0,r.Z)(q.amenities.value),[s]):q.amenities.value.filter((function(e){return e!==s})),inputLabel:"Amenities"}}):(0,i.Z)((0,i.Z)({},q),{},(0,n.Z)({},a,(0,i.Z)((0,i.Z)({},q[a]),{},{value:"number"===c?+u:u}))))};return(0,m.jsxs)("form",{className:"stay-edit-form-container",onSubmit:function(e){e.preventDefault(),console.log(e),a(e.target)},encType:"multipart/form-data",children:[(0,m.jsxs)("h2",{children:[d?"Add":"Edit"," your stay"]}),(0,m.jsxs)("div",{className:"form-inputs-container",children:[Object.keys(q).filter((function(e){return"amenities"!==e})).map((function(e){return(0,m.jsx)(s.Z,{children:(0,m.jsx)(o.Z,{label:q[e].inputLabel,margin:"dense",name:e,value:q[e].value,type:typeof q[e].value,placeholder:q[e].inputLabel,required:d,onChange:I})})})),Object.keys(y).map((function(e){return(0,m.jsx)(s.Z,{children:(0,m.jsx)(o.Z,{label:e,margin:"dense",name:e,defaultValue:y[e],type:"text",placeholder:e,required:d})})})),d&&(0,m.jsx)("div",{className:"images-input-container",children:B.map((function(e,t){return(0,m.jsx)("input",{name:"images",id:t,type:"file",accept:"image/*",required:!0,onChange:function(e){var t=e.target,a=t.id,n=t.value,i=(0,r.Z)(B);i[a]=n,O(i)}},t)}))}),(0,m.jsx)("div",{className:"amenities-container",children:p.N.getAmenities().map((function(e){return(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{onChange:I,name:"amenities",id:e,type:"checkbox",checked:q.amenities.value.includes(e)}),e]})}))})]}),(0,m.jsx)(c.Z,{className:"submit-button",variant:"outlined",type:"submit",children:d?"Add":"Update"})]})}},1284:function(e,t,a){a.r(t);var n=a(4165),r=a(5861),i=a(885),u=a(2791),s=a(2506),o=a(8312),c=a(6871),l=a(1306),p=a(9133),m=a(184);t.default=function(){var e=(0,c.UO)().stayId,t=(0,u.useState)(),a=(0,i.Z)(t,2),d=a[0],f=a[1];(0,u.useEffect)((function(){v()}),[e]);var v=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.N.getById(e);case 3:a=t.sent,f(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(a,r){var i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={},Object.keys(a).forEach((function(e){return i[e]=a[e].value})),t.prev=2,t.next=5,o.N.updateStay(e,i);case 5:(0,l.CB)("Updated stay succesfully"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),(0,l.oc)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.t,{}),(0,m.jsx)("main",{className:"stay-edit-container become-host-layout",children:d&&(0,m.jsx)(p.b,{stay:d,onSubmit:y,isAdd:!1})})]})}},4554:function(e,t,a){a.d(t,{Z:function(){return v}});var n=a(7462),r=a(3366),i=a(2791),u=a(8182),s=a(594),o=a(104),c=a(8519),l=a(3459),p=a(184),m=["className","component"];var d=a(5902),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,a=e.defaultClassName,d=void 0===a?"MuiBox-root":a,f=e.generateClassName,v=e.styleFunctionSx,y=void 0===v?o.Z:v,b=(0,s.ZP)("div")(y);return i.forwardRef((function(e,a){var i=(0,l.Z)(t),s=(0,c.Z)(e),o=s.className,v=s.component,y=void 0===v?"div":v,h=(0,r.Z)(s,m);return(0,p.jsx)(b,(0,n.Z)({as:y,ref:a,className:(0,u.Z)(o,f?f(d):d),theme:i},h))}))}({defaultTheme:(0,a(7107).Z)(),defaultClassName:"MuiBox-root",generateClassName:d.Z.generate}),v=f},8519:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(2982),r=a(7462),i=a(3366),u=a(2466),s=a(6001),o=["sx"],c=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(a){s.Gc[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]})),t};function l(e){var t,a=e.sx,s=(0,i.Z)(e,o),l=c(s),p=l.systemProps,m=l.otherProps;return t=Array.isArray(a)?[p].concat((0,n.Z)(a)):"function"===typeof a?function(){var e=a.apply(void 0,arguments);return(0,u.P)(e)?(0,r.Z)({},p,e):p}:(0,r.Z)({},p,a),(0,r.Z)({},m,{sx:t})}}}]);
//# sourceMappingURL=981.53079225.chunk.js.map